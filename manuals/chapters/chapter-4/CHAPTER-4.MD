# Chapter 4: Candid the language of the Internet Computer. / ç¬¬4ç«  Internet Computer ã® è¨€èª Candid 
## Why do we need Candid? ãªãœ Candid ãŒå¿…è¦ãªã®ã‹ï¼Ÿ
Let's imagine the following situation:  
æ¬¡ã®ã‚ˆã†ãªçŠ¶æ³ã‚’æƒ³åƒã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼š

- We are writing a canister in **Motoko** and we have defined a value `n` of type Nat.
- **Motoko** ã§ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’æ›¸ã„ã¦ã„ã¦ã€Natå‹ã®å€¤`n`ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
```motoko
let n : Nat = 5;
```
- We know  another canister that exposes a public function `square` that returns the `square` of the number provided - this canister is written in **Rust**.
- ç§ãŸã¡ã¯ã€ä¸ãˆã‚‰ã‚ŒãŸæ•°ã® `ï¼’ä¹—` ã‚’è¿”ã™ãƒ‘ãƒ–ãƒªãƒƒã‚¯é–¢æ•° `square` ã‚’å…¬é–‹ã—ã¦ã„ã‚‹åˆ¥ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’çŸ¥ã£ã¦ã„ã¾ã™ - ã“ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã¯ **Rust** ã§æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

We want to compute the square of our value `n`, but we are very lazy and we don't want to implement the `square` function in the **Motoko** canister, instead we want to make use of the already existing function in the **Rust** canister. That's possible and it will make use of **intercanister-calls** (a more advanced concept that we will see in more details in another lesson).

ç§ãŸã¡ã¯å€¤ `n` ã®äºŒä¹—ã‚’è¨ˆç®—ã—ãŸã„ã®ã§ã™ãŒã€ç§ãŸã¡ã¯ã¨ã¦ã‚‚æ€ ã‘è€…ãªã®ã§ã€**Motoko** ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã« `square` é–¢æ•°ã‚’å®Ÿè£…ã›ãšã€ä»£ã‚ã‚Šã« **Rust** ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã«æ—¢ã«å­˜åœ¨ã™ã‚‹é–¢æ•°ã‚’åˆ©ç”¨ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã“ã‚Œã¯å¯èƒ½ã§ã€**intercanister-calls**ï¼ˆåˆ¥ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§è©³ã—ãèª¬æ˜ã™ã‚‹ã€ã‚ˆã‚Šé«˜åº¦ãªæ¦‚å¿µï¼‰ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

The problem is the following: `n` is of type `Nat` and the `square` function only accepts value of type `u128`. But, in **Motoko**, the type `u128` doesn't exist! It it is like trying to communicate in Spanish with someone that speaks Chinese.

å•é¡Œã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š `n` ã¯ `Nat` å‹ã§ã‚ã‚Šã€`square` é–¢æ•°ã¯ `u128` å‹ã®å€¤ã—ã‹å—ã‘ä»˜ã‘ãªã„ã€‚ã—ã‹ã—ã€**Motoko**ã§ã¯ `u128` ã¨ã„ã†å‹ã¯å­˜åœ¨ã—ãªã„ï¼ã“ã‚Œã¯ã€ä¸­å›½èªã‚’è©±ã™äººã¨ã‚¹ãƒšã‚¤ãƒ³èªã§ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¨ã‚ã†ã¨ã™ã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

<p align="center"> <img src="./assets/rust_motoko_situation.png" width="600px" style="border: 2px solid black;"> </p>
<p align="center"> Communication can be hard sometimes...</p>
<p align="center">ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ™‚ã«é›£ã—ã„ã‚‚ã®ã§ã™...</p>

> Composing services (i.e canisters) written in different languages is central to the vision of the **Internet Computer**. How do we solve this fundamental communication issue between canisters?

> ç•°ãªã‚‹è¨€èªã§æ›¸ã‹ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ï¼ˆï¼ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ï¼‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã¯ã€**Internet Computer** ã®ãƒ“ã‚¸ãƒ§ãƒ³ã®ä¸­å¿ƒã§ã™ã€‚ã“ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼é–“ã®æ ¹æœ¬çš„ãªé€šä¿¡ã®å•é¡Œã‚’ã©ã®ã‚ˆã†ã«è§£æ±ºã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ

## What is an IDL? / IDLã¨ã¯ï¼Ÿ
We need to introduce an **Interface Description Language (IDL)**. An interface description language (**IDL**) is a generic term for a language that lets a program written in one language communicate with another program written in another unknown language.

**ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹è¨˜è¿°è¨€èªï¼ˆIDLï¼‰** ã‚’å°å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨˜è¿°è¨€èª(**IDL**)ã¨ã¯ã€ã‚ã‚‹è¨€èªã§æ›¸ã‹ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã€åˆ¥ã®æœªçŸ¥ã®è¨€èªã§æ›¸ã‹ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨é€šä¿¡ã™ã‚‹ãŸã‚ã®è¨€èªã®ç·ç§°ã§ã‚ã‚‹ã€‚

**Candid** is an **IDL** describing the public services deployed in canisters on the **Internet Computer**. The Candid interface allows inter-operation between services, and between services and frontends, independently of the programming language used. <br/>

**Candid** ã¯ã€**Internet Computer** ä¸Šã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã«å±•é–‹ã•ã‚Œã‚‹ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¨˜è¿°ã™ã‚‹ **IDL** ã§ã™ã€‚Candid ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã«ä¾å­˜ã›ãšã€ã‚µãƒ¼ãƒ“ã‚¹é–“ã€ãŠã‚ˆã³ã‚µãƒ¼ãƒ“ã‚¹ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–“ã®ç›¸äº’é‹ç”¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚<br/>

Candid solves the problem we raised earlier by enabling a mapping between types in different languages.  
Candidã¯ã€ç•°ãªã‚‹è¨€èªã®å‹é–“ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’å¯èƒ½ã«ã™ã‚‹ã“ã¨ã§ã€å…ˆã«æèµ·ã—ãŸå•é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚

<p align="center"> <img src="./assets/candid_mapping.png" width="600px" style="border: 2px solid black;"> </p>

## Candid file (.did)
A **Candid** file is a file with the .did extension - we can define the interface of the `square` canister with the following .did file:  
**Candid** ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€æ‹¡å¼µå­ãŒ .did ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ä»¥ä¸‹ã® .did ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€`square`ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã§ãã¾ã™ï¼š
```candid
service : {
  square: (nat) -> (nat) query;
}
```

In this case, our service has a unique function named `square`. This function takes a `nat` and returns a `nat`. Notice that we also used the keyword `query`.  
ã“ã®ã‚±ãƒ¼ã‚¹ã§ã¯ã€æˆ‘ã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯ `square` ã¨ã„ã†ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªé–¢æ•°ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®é–¢æ•°ã¯ `nat` ã‚’å—ã‘å–ã‚Šã€`nat` ã‚’è¿”ã—ã¾ã™ã€‚ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ `query` ã‚‚ä½¿ã£ã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

<p align="center"> <img src="./assets/candid_solved.png" width="600px" style="border: 2px solid black;"> </p>
<p align="center"> Candid is the common ground for all canisters to solve their misunderstanding!</p>
<p align="center">Candid ã¯ã€ã™ã¹ã¦ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ãŒèª¤è§£ã‚’è§£ããŸã‚ã®å…±é€šã®åœŸå°ã¨ãªã‚‹ã‚‚ã®ã§ã™ï¼</p>

The `nat` used here is not the same as the `Nat` type in **Motoko**, or any type in **Rust**. If the `square` canister was written in Motoko the Candid interface would be exactly the same. The description of the service is independent of the language it was written in - this is key!

ã“ã“ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ `nat` ã¯ **Motoko** ã® `Nat` å‹ã‚„ã€**Rust** ã®ã©ã®å‹ã¨ã‚‚åŒã˜ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã—`square`ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ãŒ Motoko ã§æ›¸ã‹ã‚Œã¦ã„ãŸã¨ã—ã¦ã‚‚ã€Candid ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯å…¨ãåŒã˜ã«ãªã‚Šã¾ã™ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã®è¨˜è¿°ã¯ã€ãã‚ŒãŒæ›¸ã‹ã‚ŒãŸè¨€èªã«ä¾å­˜ã—ãªã„ - ã“ã‚ŒãŒé‡è¦ãªãƒã‚¤ãƒ³ãƒˆã§ã™ï¼

Candid solves the problem we've raised earlier by enabling a mapping between types in different languages.

Candid ã¯ã€ç•°ãªã‚‹è¨€èªã®å‹é–“ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’å¯èƒ½ã«ã™ã‚‹ã“ã¨ã§ã€å…ˆã«æèµ·ã—ãŸå•é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚

<p align="center"> <img src="./assets/candid_mapping.png" width="600px" style="border: 2px solid black;"> </p>

The type `u128` will be converted to `nat` which is then converted to `Nat` in the **Motoko** canister. This makes it possible to write the following code:

ã‚¿ã‚¤ãƒ— `u128` ã¯ `nat` ã«å¤‰æ›ã•ã‚Œã€**Motoko** ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã§ `Nat` ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ï¼š

```motoko
actor {
    let n : Nat = 5;

    // We define the other canister in our own code.
    // ã‚‚ã†ä¸€ã¤ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã¯è‡ªåˆ†ãŸã¡ã®ã‚³ãƒ¼ãƒ‰ã§å®šç¾©ã—ã¾ã™ã€‚
    let rustActor : actor = {
        square : Nat -> Nat;    // We use Motoko types here ã“ã“ã§ã¯ã€Motoko ã®å‹ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™  
    };

    public func getSquareOfN() : async Nat {
        await rustActor.square(n);  // This is how you can call another canister - pretty cool, right?! ã“ã†ã—ã¦åˆ¥ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã™ãŒã€ãªã‹ãªã‹ã‹ã£ã“ã„ã„ã§ã—ã‚‡ã†ï¼Ÿ
    };

};
```
> Candid is sometimes called "**the language of the Internet Computer**" as it how canisters communicate with each other. You will rarely have to write Candid but it's important to understand why Candid was created, how to read it, and how it works since you'll encounter Candid files in the projects you will work on. 

> Candid ã¯ã€ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼åŒå£«ãŒé€šä¿¡ã™ã‚‹ãŸã‚ã®è¨€èªã§ã€"**Internet Computer ã®è¨€èª**" ã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚Candid ã‚’æ›¸ãã“ã¨ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ãŒã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ Candid ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºä¼šã†ã“ã¨ãŒå¤šã„ã®ã§ã€Candid ãŒãªãœä½œã‚‰ã‚ŒãŸã®ã‹ã€ã©ã†èª­ã‚€ã®ã‹ã€ã©ã†å‹•ãã®ã‹ã‚’ç†è§£ã™ã‚‹ã“ã¨ã¯é‡è¦ã§ã™ã€‚

## Interacting with a canister ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã¨ã®å¯¾è©±
To follow along this part, it is strongly recommended that you deploy locally the sample greet application that is shipped with `dfx`.  
ã“ã®ãƒ‘ãƒ¼ãƒˆã«æ²¿ã£ã¦ã€`dfx`ã«åŒæ¢±ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ« greet ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚
1. Generate the code for this project by running / å®Ÿè¡Œã—ã¦ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
```bash
$ dfx new greet
```
2. Start your local replica. / ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒ—ãƒªã‚«ã‚’èµ·å‹•ã—ã¾ã™ã€‚
```bash
$ dfx start --clean
```
3. Open another terminal tab & deploy the project. / åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¿ãƒ–ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚
```bash
$ dfx deploy 
```
The Candid interface is automatically generated when building a Motoko project, but it can also be written manually. In its simplest form, the Candid DID file contains a service description. When the project is deployed, the `greet.did` file will contain the following service description:  
Candidã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€Motokoãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰æ™‚ã«è‡ªå‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ãŒã€æ‰‹å‹•ã§è¨˜è¿°ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚æœ€ã‚‚å˜ç´”ãªå½¢ã¨ã—ã¦ã€Candid ã® DID ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã‚µãƒ¼ãƒ“ã‚¹ã®èª¬æ˜ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ã¨ã€`greet.did`ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹èª¬æ˜ãŒå«ã¾ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ï¼š
```candid
service : {
  greet: (text) -> (text) query;
}
```
> You can find the .did file under .dfx/local/canisters/greet_backend. If you don't see it make sure that you have built & deployed the project.

> .didãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€.dfx/local/canisters/greet_backend ã®ä¸‹ã«ã‚ã‚Šã¾ã™ã€‚ã‚‚ã—è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ï¼†ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

The greet dApp has one public function: `greet(text)`. From the service description we can see, that the greet() function takes a text and returns another text, and the service is a query function (faster execution). 

greet dApp ã¯ï¼‘ã¤ã® public é–¢æ•°ã‚’æŒã£ã¦ã„ã¾ã™: `greet(text)`ã€‚ ã‚µãƒ¼ãƒ“ã‚¹ã®èª¬æ˜ã‹ã‚‰ã€greet() é–¢æ•°ã¯ãƒ†ã‚­ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€åˆ¥ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿”ã™ã“ã¨ã€ãã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ã¯ã‚¯ã‚¨ãƒªãƒ¼é–¢æ•°ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ï¼ˆã‚ˆã‚Šé«˜é€Ÿãªå®Ÿè¡Œï¼‰ã€‚

You can see more advanced uses of Candid in the [documentation](https://internetcomputer.org/docs/current/developer-docs/build/candid/candid-concepts) or in other examples [Motoko examples](https://github.com/dfinity/examples/tree/master/motoko).

Candid ã®ã‚ˆã‚Šé«˜åº¦ãªä½¿ã„æ–¹ã¯ã€[documentation](https://internetcomputer.org/docs/current/developer-docs/build/candid/candid-concepts) ã¾ãŸã¯ä»–ã®ä¾‹ [Motoko examples](https://github.com/dfinity/examples/tree/master/motoko) ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

The Candid interface, as previously mentioned, allows inter-operation between services, and between services and frontends. Candid is also very useful for calling the canisters from different places:  
å‰è¿°ã—ãŸã‚ˆã†ã« Candid ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹é–“ã€ã‚µãƒ¼ãƒ“ã‚¹ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–“ã®ç›¸äº’é‹ç”¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ã¾ãŸã€Candid ã¯ã€ç•°ãªã‚‹å ´æ‰€ã‹ã‚‰ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’å‘¼ã³å‡ºã™éš›ã«ã‚‚éå¸¸ã«ä¾¿åˆ©ã§ã™ï¼š
- Using the terminal with `dfx`. 
- `dfx`ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã€‚
- Using the Candid UI. 
- Candid UIã‚’ä½¿ã†ã€‚
- Using a frontend (webpage) with the JavaScript Agent.  
- JavaScript Agentã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ï¼‰ã‚’ä½¿ã†ã€‚ 

<b> Let's take a look at those different methods! </b>  
<b> ã§ã¯ã€ãã®ã•ã¾ã–ã¾ãªæ–¹æ³•ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ï¼ </b>

## <a id="using-the-terminal"> ğŸ“º Using the terminal (dfx) </a>
The Candid interface allows you to call backend services or functions from the command line. This is useful for administrative tasks that do not require a front end or for testing the back end. In the example of the Greet dApp, you can call the greet() method by running the command:  
Candid ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã¯ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚„é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’å¿…è¦ã¨ã—ãªã„ç®¡ç†ä½œæ¥­ã‚„ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã«ä¾¿åˆ©ã§ã™ã€‚Greet dApp ã®ä¾‹ã§ã¯ã€ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€greet() ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ï¼š
```bash
$ dfx canister call greet_backend greet '("motoko")'
("Hello, motoko!")
```
The general structure for calling any method from any canister is as follows:  
ä»»æ„ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‹ã‚‰ä»»æ„ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ãŸã‚ã®ä¸€èˆ¬çš„ãªæ§‹é€ ã¯ã€ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ï¼š
```bash
$ dfx canister call <CANISTER_NAME OR CANISTER_ID> <METHOD_NAME> '(ARGUMENT)'
```
If you want to call a canister on the main net, you need to add the --network ic flag:  
ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆä¸Šã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’å‘¼ã³å‡ºã—ãŸã„å ´åˆã¯ã€--network ic ãƒ•ãƒ©ã‚°ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
```bash
$ dfx canister --network ic call <CANISTER_NAME OR CANISTER_ID> <METHOD_NAME> '(ARGUMENT)'
```
> Note that when using dfx you should always put your arguments between "**()**". The format for the arguments is the Candid format. 

> dfx ã‚’ä½¿ç”¨ã™ã‚‹éš›ã¯ã€å¼•æ•°ã‚’å¸¸ã« "**()**" ã§æŒŸã‚€å¿…è¦ãŒã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚å¼•æ•°ã®å½¢å¼ã¯ Candid å½¢å¼ã§ã™ã€‚

For more information about how to call canisters from the command-line, see the [documentation](https://internetcomputer.org/docs/current/references/cli-reference/dfx-canister).

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’å‘¼ã³å‡ºã™æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€[documentation](https://internetcomputer.org/docs/current/references/cli-reference/dfx-canister) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## <a id="candid-ui"> ğŸ“² Candid UI </a>
While the command-line can be very practical, there's also an easier way to call the backend services, and that's by using the Candid UI. When a project is deployed, besides the Candid interfaces, an asset canister running the Candid UI is also deployed. The built process will show the URL in the console, but the URL can also be found in `greet/.dfx/local/canister_ids.json`:

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã¯éå¸¸ã«å®Ÿç”¨çš„ã§ã™ãŒã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‘¼ã³å‡ºã™ã«ã¯ã‚‚ã£ã¨ç°¡å˜ãªæ–¹æ³•ãŒã‚ã‚Šã€ãã‚Œã¯ Candid UI ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ã¨ã€Candid ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ä»–ã«ã€Candid UI ã‚’å®Ÿè¡Œã™ã‚‹ã‚¢ã‚»ãƒƒãƒˆã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚‚ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ—ãƒ­ã‚»ã‚¹ã§ã¯ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«URLãŒè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€URL ã¯ `greet/.dfx/local/canister_ids.json` ã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼š

```json
{
  "__Candid_UI": {
    "local": "r7inp-6aaaa-aaaaa-aaabq-cai"
  },
  "greet_backend": {
    "local": "rrkah-fqaaa-aaaaa-aaaaq-cai"
  },
  "greet_frontend": {
    "local": "ryjl3-tyaaa-aaaaa-aaaba-cai"
  }
}
```
In this case the URL to the Candid UI is http://127.0.0.1:4943/?canisterId=r7inp-6aaaa-aaaaa-aaabq-cai&id=rrkah-fqaaa-aaaaa-aaaaq-cai  
ã“ã®å ´åˆã€Candid UIã¸ã®URLã¯ http://127.0.0.1:4943/?canisterId=r7inp-6aaaa-aaaaa-aaabq-cai&id=rrkah-fqaaa-aaaaa-aaaaq-cai ã§ã™ã€‚

> It's possible that the URL for the Candid UI may be different on your machine. Make sure to adjust the URL accordingly based on the canister IDs in your own file.

> ã‚ãªãŸã®ãƒã‚·ãƒ³ã§ã¯ã€Candid UI ã® URL ãŒç•°ãªã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚è‡ªåˆ†ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ ID ã«åŸºã¥ã„ã¦ã€ãã‚Œã«å¿œã˜ã¦ URL ã‚’èª¿æ•´ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

Simply click the **Query** buttons, and see the response in the Output Log.  
**Query** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã ã‘ã§ã€å‡ºåŠ›ãƒ­ã‚°ã«å¿œç­”ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
<p align="center"> <img src="assets/candid_ui_local.png" width="600px" style="border: 2px solid black;"> </p>

<b> Local or Live? / ãƒ­ãƒ¼ã‚«ãƒ« ã¾ãŸã¯ æœ¬ç•ªï¼Ÿ</b> <br/>
One important confusion to avoid is the difference between the local & live Candid UIs:  
Candid ã®UIã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã¨æœ¬ç•ªã®é•ã„ã‚‚é‡è¦ãªãƒã‚¤ãƒ³ãƒˆã§ã™ï¼š

- The [live Candid UI](https://a4gq6-oaaaa-aaaab-qaa4q-cai.raw.ic0.app/) is unique for the entire Internet Computer - you can access the interface of any dApp (assuming that the candid file has been shipped). By using the live Candid UI you can directly modify the state of a canister. 
- [æœ¬ç•ª Candid UI](https://a4gq6-oaaaa-aaaab-qaa4q-cai.raw.ic0.app/) ã¯ã€Internet Computer å…¨ä½“ã«ã¨ã£ã¦ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªã‚‚ã®ã§ã™ã€‚ï¼ˆCandid ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºè·ã•ã‚Œã¦ã„ã‚‹ã¨ä»®å®šã—ã¦ï¼‰ã©ã® dApp ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚Candid UI ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ãƒˆã‚’ç›´æ¥å¤‰æ›´ã§ãã¾ã™ã€‚

- The local Candid UI that we tried earlier is only deployed on your local replica. It can only give you access to the canister that you've deployed locally.

- å…ˆã»ã©è©¦ã—ãŸãƒ­ãƒ¼ã‚«ãƒ«ã® Candid UI ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒ—ãƒªã‚«ã«ã—ã‹ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã›ã‚“ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã«ã—ã‹ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã®ã§ã™ã€‚

> By the way - the Candid UI (live or local) is also deployed in a canister.

> ã¨ã“ã‚ã§ - Candid UIï¼ˆæœ¬ç•ªã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«ï¼‰ã‚‚ã€ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã¾ã™ã€‚

## <a id="using-the-frontend"> ğŸ“‘ Using Candid in the frontend / ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ Candid ã‚’ä½¿ã†</a>
The greet dApp has both a backend and a frontend, and the frontend accesses the backend services through the Candid interface. The project's source code is organized in the following three folders:  
greet dApp ã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä¸¡æ–¹ã‚’æŒã¡ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ Candid ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’é€šã˜ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ã®3ã¤ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ï¼š
- declarations
- greet_backend 
- greet_frontend

Let's take a look at the frontend's JavaScript file located at `src/greet_frontend/src/index.js`. This file is responsible for handling the front-end logic of the greet dApp. The front-end and back-end are connected using the Candid interface which allows the front-end to access the back-end services.

`src/greet_frontend/src/index.js`ã«ã‚ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã® JavaScript ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€greet dApp ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å‡¦ç†ã™ã‚‹è²¬ä»»ã‚’è² ã£ã¦ã„ã¾ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ Candid ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ä½¿ã£ã¦æ¥ç¶šã•ã‚Œã¦ãŠã‚Šã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```javascript
import { greet_backend } from "../../declarations/greet_backend";

document.querySelector("form").addEventListener("submit", async (e) => {
  e.preventDefault();
  const button = e.target.querySelector("button");

  const name = document.getElementById("name").value.toString();

  button.setAttribute("disabled", true);

  // Interact with foo actor, calling the greet method
  // foo actor ã¨å¯¾è©±ã—ã€greet ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚
  const greeting = await greet_backend.greet(name);

  button.removeAttribute("disabled");

  document.getElementById("greeting").innerText = greeting;

  return false;
});
```
Two lines of code in this file are worth paying attention to. The first line is where the Candid service description is imported, and in this case, it's not the greet.did file but the index.js file. The Candid index.js is automatically generated when the project is built and imports the Motoko backend's services.  
ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ï¼’è¡Œã®ã‚³ãƒ¼ãƒ‰ã«æ³¨ç›®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ï¼‘è¡Œç›®ã¯ Candid ã®ã‚µãƒ¼ãƒ“ã‚¹è¨˜è¿°ãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹å ´æ‰€ã§ã™ãŒã€ã“ã®å ´åˆã¯ greet.didãƒ• ã‚¡ã‚¤ãƒ«ã§ã¯ãªãã€index.js ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚Candid ã® index.js ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰æ™‚ã«è‡ªå‹•ç”Ÿæˆã•ã‚Œã€Motoko ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

```javascript
import {greet_backend } from "../../declarations/greet_backend";
```
After importing the Candid interface we can now use the public backend service, which is illustrated in this line:  
Candid ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸå¾Œã€ã“ã®è¡Œã§ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š

```javascript
const greeting = await greet_backend.greet(name);
```
The update function `greet()` is called with the name as a parameter, which will return the greeting message. The call is asynchronous so an **await** is added so the front end is waiting for a response before moving on.  
name ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆé–¢æ•° `greet()` ã‚’å‘¼ã³å‡ºã™ã¨ã€æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã•ã‚Œã¾ã™ã€‚ã“ã®å‘¼ã³å‡ºã—ã¯éåŒæœŸãªã®ã§ã€**await** ã‚’è¿½åŠ ã—ã¦ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒå¿œç­”ã‚’å¾…ã£ã¦ã‹ã‚‰æ¬¡ã®å‡¦ç†ã«ç§»ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

Several agents are developed by both DFINITY and the community to easily integrate the Candid interface in different programming languages. See the [documentation](https://internetcomputer.org/docs/current/developer-docs/build/agents/) for a list of the available agents.  
DFINITY ã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä¸¡æ–¹ã«ã‚ˆã£ã¦ã€ç•°ãªã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ Candid ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ç°¡å˜ã«çµ±åˆã™ã‚‹ãŸã‚ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã„ãã¤ã‹é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™ã€‚åˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä¸€è¦§ã¯ [documentation](https://internetcomputer.org/docs/current/developer-docs/build/agents/) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚